<?xml version="1.0"?>
<dialects>
    <dialect type="POSTGRES">
        <procedure name="GetReviewsByUser">
            <statement name="getReviewUser">
                SELECT * FROM review r, "user" u WHERE u.u_id = r.u_id AND r.u_id=? 
                ORDER BY rating LIMIT 10;
            </statement>
        </procedure>
        <procedure name="UpdateUserName">
            <statement name="updateUser">
                UPDATE "user" SET name = ? WHERE u_id=?;
            </statement>
        </procedure>
    </dialect>
    <dialect type="ORACLE">
        <procedure name="GetReviewItemById">
            <statement name="getReviewItem">
                SELECT * FROM review r, item i WHERE i.i_id = r.i_id and r.i_id=? AND ROWNUM = 10
                ORDER BY rating;
            </statement>
        </procedure>
        <procedure name="GetReviewsByUser">
            <statement name="getReviewUser">
                SELECT * FROM review r, "user" u WHERE u.u_id = r.u_id AND r.u_id=? AND ROWNUM = 10
                ORDER BY rating;
            </statement>
        </procedure>
        <procedure name="UpdateUserName">
            <statement name="updateUser">
                UPDATE "user" SET name = ? WHERE u_id=?;
            </statement>
        </procedure>
    </dialect>
    <dialect type="SQLSERVER">
        <procedure name="GetReviewItemById">
            <statement name="getReviewItem">
                SELECT TOP 10 * FROM review r, item i WHERE i.i_id = r.i_id and r.i_id=?
                ORDER BY rating;
            </statement>
        </procedure>
        <procedure name="GetReviewsByUser">
            <statement name="getReviewUser">
                SELECT TOP 10 * FROM review r, "user" u WHERE u.u_id = r.u_id AND r.u_id=? 
                ORDER BY rating;
            </statement>
        </procedure>
        <procedure name="UpdateUserName">
            <statement name="updateUser">
                UPDATE "user" SET name = ? WHERE u_id=?;
            </statement>
        </procedure>
    </dialect>
</dialects>